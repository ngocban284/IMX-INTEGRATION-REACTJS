{"ast":null,"code":"var _jsxFileName = \"/Users/ngocban/Desktop/imx-integration-reactjs/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { Link, ImmutableXClient } from '@imtbl/imx-sdk';\nimport { useEffect, useState } from 'react';\nimport Marketplace from './Marketplace';\nimport Inventory from './Inventory';\nimport Bridging from './Bridging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire('dotenv').config();\n\nconst App = () => {\n  _s();\n\n  var _balance$balance;\n\n  // initialise Immutable X Link SDK\n  const link = new Link(process.env.REACT_APP_ROPSTEN_LINK_URL); // general\n\n  const [tab, setTab] = useState('marketplace');\n  const [wallet, setWallet] = useState('undefined');\n  const [balance, setBalance] = useState(Object);\n  const [client, setClient] = useState(Object);\n  useEffect(() => {\n    buildIMX();\n  }, []); // initialise an Immutable X Client to interact with apis more easily\n\n  async function buildIMX() {\n    var _process$env$REACT_AP;\n\n    const publicApiUrl = (_process$env$REACT_AP = process.env.REACT_APP_ROPSTEN_ENV_URL) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : '';\n    setClient(await ImmutableXClient.build({\n      publicApiUrl\n    }));\n  } // register and/or setup a user\n\n\n  async function linkSetup() {\n    const res = await link.setup({});\n    setWallet(res.address);\n    setBalance(await client.getBalance({\n      user: res.address,\n      tokenAddress: 'eth'\n    }));\n  }\n\n  ;\n\n  function handleTabs() {\n    if (client.address) {\n      switch (tab) {\n        case 'inventory':\n          if (wallet === 'undefined') return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Connect wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 46\n          }, this);\n          return /*#__PURE__*/_jsxDEV(Inventory, {\n            client: client,\n            link: link,\n            wallet: wallet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 18\n          }, this);\n\n        case 'bridging':\n          if (wallet === 'undefined') return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Connect wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 46\n          }, this);\n          return /*#__PURE__*/_jsxDEV(Bridging, {\n            client: client,\n            link: link,\n            wallet: wallet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 18\n          }, this);\n\n        default:\n          return /*#__PURE__*/_jsxDEV(Marketplace, {\n            client: client,\n            link: link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 18\n          }, this);\n      }\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: linkSetup,\n      children: \"Setup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Active wallet: \", wallet]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"ETH balance (in wei): \", balance === null || balance === void 0 ? void 0 : (_balance$balance = balance.balance) === null || _balance$balance === void 0 ? void 0 : _balance$balance.toString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab('marketplace'),\n      children: \"Marketplace\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab('inventory'),\n      children: \"Inventory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab('bridging'),\n      children: \"Deposit and withdrawal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), handleTabs()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"/IUfmCrXQBP3ag6W7WhkoU3FisM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Link","ImmutableXClient","useEffect","useState","Marketplace","Inventory","Bridging","require","config","App","link","process","env","REACT_APP_ROPSTEN_LINK_URL","tab","setTab","wallet","setWallet","balance","setBalance","Object","client","setClient","buildIMX","publicApiUrl","REACT_APP_ROPSTEN_ENV_URL","build","linkSetup","res","setup","address","getBalance","user","tokenAddress","handleTabs","toString"],"sources":["/Users/ngocban/Desktop/imx-integration-reactjs/src/App.tsx"],"sourcesContent":["import './App.css';\nimport { Link, ImmutableXClient, ImmutableMethodResults} from '@imtbl/imx-sdk';\nimport { useEffect, useState } from 'react';\nimport Marketplace from './Marketplace';\nimport Inventory from './Inventory';\nimport Bridging from './Bridging';\nrequire('dotenv').config();\n\nconst App = () => {\n  // initialise Immutable X Link SDK\n  const link = new Link(process.env.REACT_APP_ROPSTEN_LINK_URL)\n  \n  // general\n  const [tab, setTab] = useState('marketplace');\n  const [wallet, setWallet] = useState('undefined');\n  const [balance, setBalance] = useState<ImmutableMethodResults.ImmutableGetBalanceResult>(Object);\n  const [client, setClient] = useState<ImmutableXClient>(Object);\n\n\n  useEffect(() => {\n    buildIMX()\n  }, [])\n\n  // initialise an Immutable X Client to interact with apis more easily\n  async function buildIMX() {\n    const publicApiUrl: string = process.env.REACT_APP_ROPSTEN_ENV_URL ?? '';\n    setClient(await ImmutableXClient.build({publicApiUrl}))\n  }\n\n  // register and/or setup a user\n  async function linkSetup(): Promise<void> {\n    const res = await link.setup({})\n    setWallet(res.address)\n    setBalance(await client.getBalance({user: res.address, tokenAddress: 'eth'}))\n  };\n\n  function handleTabs() {\n    if (client.address) {\n      switch (tab) {\n        case 'inventory':\n          if (wallet === 'undefined') return <div>Connect wallet</div>\n          return <Inventory\n            client={client}\n            link={link}\n            wallet={wallet}\n          />\n        case 'bridging':\n          if (wallet === 'undefined') return <div>Connect wallet</div>\n          return <Bridging\n            client={client}\n            link={link}\n            wallet={wallet}\n          />\n        default:\n          return <Marketplace\n            client={client}\n            link={link}\n          />\n      }\n    }\n    return null\n  }\n\n  return (\n    <div className=\"App\">\n      <button onClick={linkSetup}>Setup</button>\n      <div>\n        Active wallet: {wallet}\n      </div>\n      <div>\n        ETH balance (in wei): {balance?.balance?.toString()}\n      </div>\n      <button onClick={() => setTab('marketplace')}>Marketplace</button>\n      <button onClick={() => setTab('inventory')}>Inventory</button>\n      <button onClick={() => setTab('bridging')}>Deposit and withdrawal</button>\n      <br/><br/><br/>\n      {handleTabs()}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
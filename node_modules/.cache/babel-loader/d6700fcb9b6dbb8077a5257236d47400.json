{"ast":null,"code":"var _jsxFileName = \"/Users/ngocban/Desktop/imx-integration-reactjs/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { Link, ImmutableXClient } from \"@imtbl/imx-sdk\";\nimport { useEffect, useState } from \"react\";\nimport Marketplace from \"./Marketplace\";\nimport Inventory from \"./Inventory\";\nimport Bridging from \"./Bridging\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire(\"dotenv\").config();\n\nconst App = () => {\n  _s();\n\n  var _balance$balance;\n\n  // initialise Immutable X Link SDK\n  const link = new Link(process.env.REACT_APP_ROPSTEN_LINK_URL); // general\n\n  const [tab, setTab] = useState(\"marketplace\");\n  const [wallet, setWallet] = useState(\"undefined\");\n  const [balance, setBalance] = useState(Object);\n  const [client, setClient] = useState(Object);\n  useEffect(() => {\n    buildIMX();\n  }, []); // initialise an Immutable X Client to interact with apis more easily\n\n  async function buildIMX() {\n    var _process$env$REACT_AP;\n\n    const publicApiUrl = (_process$env$REACT_AP = process.env.REACT_APP_ROPSTEN_ENV_URL) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : \"\";\n    setClient(await ImmutableXClient.build({\n      publicApiUrl\n    }));\n  } // register and/or setup a user\n\n\n  async function linkSetup() {\n    const res = await link.setup({});\n    setWallet(res.address);\n    setBalance(await client.getBalance({\n      user: res.address,\n      tokenAddress: \"eth\"\n    }));\n  }\n\n  function handleTabs() {\n    if (client.address) {\n      switch (tab) {\n        case \"inventory\":\n          if (wallet === \"undefined\") return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Connect wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 46\n          }, this);\n          return /*#__PURE__*/_jsxDEV(Inventory, {\n            client: client,\n            link: link,\n            wallet: wallet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 18\n          }, this);\n\n        case \"bridging\":\n          if (wallet === \"undefined\") return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Connect wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 46\n          }, this);\n          return /*#__PURE__*/_jsxDEV(Bridging, {\n            client: client,\n            link: link,\n            wallet: wallet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 18\n          }, this);\n\n        default:\n          return /*#__PURE__*/_jsxDEV(Marketplace, {\n            client: client,\n            link: link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 18\n          }, this);\n      }\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n      onClick: linkSetup,\n      children: \"Setup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Active wallet: \", wallet]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"ETH balance (in wei): \", balance === null || balance === void 0 ? void 0 : (_balance$balance = balance.balance) === null || _balance$balance === void 0 ? void 0 : _balance$balance.toString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab(\"marketplace\"),\n      children: \"Marketplace\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab(\"inventory\"),\n      children: \"Inventory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setTab(\"bridging\"),\n      children: \"Deposit and withdrawal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), handleTabs()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"dAhNDHm+QPNP/an3QgDsE5hI1q0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Link","ImmutableXClient","useEffect","useState","Marketplace","Inventory","Bridging","require","config","App","link","process","env","REACT_APP_ROPSTEN_LINK_URL","tab","setTab","wallet","setWallet","balance","setBalance","Object","client","setClient","buildIMX","publicApiUrl","REACT_APP_ROPSTEN_ENV_URL","build","linkSetup","res","setup","address","getBalance","user","tokenAddress","handleTabs","toString"],"sources":["/Users/ngocban/Desktop/imx-integration-reactjs/src/App.tsx"],"sourcesContent":["import \"./App.css\";\nimport { Link, ImmutableXClient, ImmutableMethodResults } from \"@imtbl/imx-sdk\";\nimport { useEffect, useState } from \"react\";\nimport Marketplace from \"./Marketplace\";\nimport Inventory from \"./Inventory\";\nimport Bridging from \"./Bridging\";\nrequire(\"dotenv\").config();\n\nconst App = () => {\n  // initialise Immutable X Link SDK\n  const link = new Link(process.env.REACT_APP_ROPSTEN_LINK_URL);\n\n  // general\n  const [tab, setTab] = useState(\"marketplace\");\n  const [wallet, setWallet] = useState(\"undefined\");\n  const [balance, setBalance] =\n    useState<ImmutableMethodResults.ImmutableGetBalanceResult>(Object);\n  const [client, setClient] = useState<ImmutableXClient>(Object);\n\n  useEffect(() => {\n    buildIMX();\n  }, []);\n\n  // initialise an Immutable X Client to interact with apis more easily\n  async function buildIMX() {\n    const publicApiUrl: string = process.env.REACT_APP_ROPSTEN_ENV_URL ?? \"\";\n    setClient(await ImmutableXClient.build({ publicApiUrl }));\n  }\n\n  // register and/or setup a user\n  async function linkSetup(): Promise<void> {\n    const res = await link.setup({});\n    setWallet(res.address);\n    setBalance(\n      await client.getBalance({ user: res.address, tokenAddress: \"eth\" })\n    );\n  }\n\n  function handleTabs() {\n    if (client.address) {\n      switch (tab) {\n        case \"inventory\":\n          if (wallet === \"undefined\") return <div>Connect wallet</div>;\n          return <Inventory client={client} link={link} wallet={wallet} />;\n        case \"bridging\":\n          if (wallet === \"undefined\") return <div>Connect wallet</div>;\n          return <Bridging client={client} link={link} wallet={wallet} />;\n        default:\n          return <Marketplace client={client} link={link} />;\n      }\n    }\n    return null;\n  }\n\n  return (\n    <div className=\"App\">\n      <button\n        className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n        onClick={linkSetup}\n      >\n        Setup\n      </button>\n      <div>Active wallet: {wallet}</div>\n      <div>ETH balance (in wei): {balance?.balance?.toString()}</div>\n      <button onClick={() => setTab(\"marketplace\")}>Marketplace</button>\n      <button onClick={() => setTab(\"inventory\")}>Inventory</button>\n      <button onClick={() => setTab(\"bridging\")}>Deposit and withdrawal</button>\n      <br />\n      <br />\n      <br />\n      {handleTabs()}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}